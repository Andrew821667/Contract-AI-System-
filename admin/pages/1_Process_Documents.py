"""
–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ - "–°—Ç–µ–∫–ª—è–Ω–Ω—ã–π —è—â–∏–∫"
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –í–°–ï –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏
"""

import streamlit as st
import sys
from pathlib import Path
import asyncio
import json
import os

# Add project root to path
project_root = Path(__file__).parent.parent.parent
sys.path.insert(0, str(project_root))

st.set_page_config(
    page_title="–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ - Contract AI",
    page_icon="üìÑ",
    layout="wide"
)

st.title("üìÑ –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤")
st.markdown("**–°—Ç–µ–∫–ª—è–Ω–Ω—ã–π —è—â–∏–∫:** –≤–∏–¥–Ω—ã –≤—Å–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã")

st.markdown("---")

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
st.header("1Ô∏è‚É£ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞")

uploaded_file = st.file_uploader(
    "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –¥–æ–≥–æ–≤–æ—Ä–∞",
    type=['pdf', 'docx', 'txt', 'png', 'jpg', 'jpeg'],
    help="–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è: PDF, DOCX, TXT, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Å OCR)"
)

# –ö–Ω–æ–ø–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
if uploaded_file is not None:
    st.success(f"‚úÖ –§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω: **{uploaded_file.name}** ({uploaded_file.size} –±–∞–π—Ç)")

    if st.button("üöÄ –ù–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É", type="primary"):
        # –ó–¥–µ—Å—å –±—É–¥–µ—Ç —Ä–µ–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
        # –ü–æ–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º MOCK –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ UI

        # Progress bar
        progress_bar = st.progress(0)
        status_text = st.empty()

        import time

        # Stage 1: Text Extraction
        status_text.text("üìÑ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞...")
        time.sleep(1)
        progress_bar.progress(16)

        st.markdown("---")
        st.header("2Ô∏è‚É£ –•–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏")

        # –†–µ–∑—É–ª—å—Ç–∞—Ç Stage 1
        with st.expander("‚úÖ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ (1.2 —Å–µ–∫)", expanded=True):
            st.success("**–ú–µ—Ç–æ–¥:** PDF native text")
            st.info("**–ú–æ–¥–µ–ª—å:** N/A (–ø—Ä—è–º–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ) | **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ:** pdfplumber + PaddleOCR –¥–ª—è —Å–∫–∞–Ω–æ–≤")

            col1, col2, col3 = st.columns(3)
            with col1:
                st.metric("–°—Ç—Ä–∞–Ω–∏—Ü", "2")
            with col2:
                st.metric("–°–∏–º–≤–æ–ª–æ–≤", "5,234")
            with col3:
                st.metric("Confidence", "N/A")

            st.subheader("üìã –ü–û–õ–ù–´–ô –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç")
            # –ß–∏—Ç–∞–µ–º –ø–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –∏–∑ —Ñ–∞–π–ª–∞
            full_text = open("tests/fixtures/test_supply_contract.txt", "r", encoding="utf-8").read()
            st.text_area("–í–µ—Å—å —Ç–µ–∫—Å—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–ø—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑):", value=full_text, height=400)

        # Stage 2: Level 1 Extraction
        status_text.text("üîç Level 1: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π...")
        time.sleep(1)
        progress_bar.progress(33)

        with st.expander("‚úÖ Level 1 Extraction (0.5 —Å–µ–∫)", expanded=True):
            st.success(f"**–ù–∞–π–¥–µ–Ω–æ —Å—É—â–Ω–æ—Å—Ç–µ–π:** 18")
            st.info("**–ú–æ–¥–µ–ª—å:** regex + SpaCy (ru_core_news_sm) | **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ:** SpaCy ru_core_news_lg –∏–ª–∏ DeepPavlov NER –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞")

            col1, col2, col3 = st.columns(3)

            with col1:
                st.metric("–î–∞—Ç—ã", "3")
                st.metric("–°—É–º–º—ã", "4")

            with col2:
                st.metric("–ò–ù–ù", "2")
                st.metric("–û–ì–†–ù", "2")

            with col3:
                st.metric("–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏", "2")
                st.metric("–ù–æ–º–µ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞", "1")

            st.subheader("üìã –î–µ—Ç–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å—É—â–Ω–æ—Å—Ç–µ–π")

            import pandas as pd
            entities_data = [
                {"–¢–∏–ø": "contract_number", "–ó–Ω–∞—á–µ–Ω–∏–µ": "2024-SP-00127", "Confidence": 0.95, "–ö–æ–Ω—Ç–µ–∫—Å—Ç": "–î–û–ì–û–í–û–† –ü–û–°–¢–ê–í–ö–ò ‚Ññ 2024-SP-00127"},
                {"–¢–∏–ø": "date", "–ó–Ω–∞—á–µ–Ω–∏–µ": "15.01.2024", "Confidence": 0.98, "–ö–æ–Ω—Ç–µ–∫—Å—Ç": "–≥. –ú–æ—Å–∫–≤–∞           15 —è–Ω–≤–∞—Ä—è 2024 –≥."},
                {"–¢–∏–ø": "inn", "–ó–Ω–∞—á–µ–Ω–∏–µ": "7710123456", "Confidence": 0.95, "–ö–æ–Ω—Ç–µ–∫—Å—Ç": "–û–û–û \"–¢–µ—Ö–Ω–æ–°–Ω–∞–±\" –ò–ù–ù: 7710123456"},
                {"–¢–∏–ø": "inn", "–ó–Ω–∞—á–µ–Ω–∏–µ": "7720987654", "Confidence": 0.95, "–ö–æ–Ω—Ç–µ–∫—Å—Ç": "–û–û–û \"–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –ö–æ–º–ø–∞–Ω–∏—è\" –ò–ù–ù: 7720987654"},
                {"–¢–∏–ø": "amount", "–ó–Ω–∞—á–µ–Ω–∏–µ": "1 500 000 —Ä—É–±.", "Confidence": 0.92, "–ö–æ–Ω—Ç–µ–∫—Å—Ç": "—Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç 1 500 000 (–û–¥–∏–Ω –º–∏–ª–ª–∏–æ–Ω –ø—è—Ç—å—Å–æ—Ç —Ç—ã—Å—è—á) —Ä—É–±–ª–µ–π"},
                {"–¢–∏–ø": "amount", "–ó–Ω–∞—á–µ–Ω–∏–µ": "450 000 —Ä—É–±.", "Confidence": 0.90, "–ö–æ–Ω—Ç–µ–∫—Å—Ç": "–ø—Ä–µ–¥–æ–ø–ª–∞—Ç–∞ –≤ —Ä–∞–∑–º–µ—Ä–µ 30% (450 000 —Ä—É–±–ª–µ–π)"},
            ]
            st.dataframe(entities_data, use_container_width=True)

        # Stage 3: LLM Extraction
        status_text.text("ü§ñ LLM –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö...")
        time.sleep(2)
        progress_bar.progress(66)

        with st.expander("‚úÖ LLM Extraction (2.8 —Å–µ–∫, GPT-4o-mini)", expanded=True):
            st.success("**–ú–æ–¥–µ–ª—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞:** gpt-4o-mini")
            st.info("**–û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å:** Claude 3.5 Sonnet (–¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –¥–æ–≥–æ–≤–æ—Ä–æ–≤) –∏–ª–∏ DeepSeek-V3 (–¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏)")

            st.subheader("üìä –ú–µ—Ç—Ä–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏")
            metrics_data = [
                {"–ü–∞—Ä–∞–º–µ—Ç—Ä": "–¢–æ–∫–µ–Ω—ã (–≤—Ö–æ–¥)", "–ó–Ω–∞—á–µ–Ω–∏–µ": "1,245", "–û–ø–∏—Å–∞–Ω–∏–µ": "–¢–æ–∫–µ–Ω–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ –º–æ–¥–µ–ª—å"},
                {"–ü–∞—Ä–∞–º–µ—Ç—Ä": "–¢–æ–∫–µ–Ω—ã (–≤—ã—Ö–æ–¥)", "–ó–Ω–∞—á–µ–Ω–∏–µ": "892", "–û–ø–∏—Å–∞–Ω–∏–µ": "–¢–æ–∫–µ–Ω–æ–≤ –ø–æ–ª—É—á–µ–Ω–æ –æ—Ç –º–æ–¥–µ–ª–∏"},
                {"–ü–∞—Ä–∞–º–µ—Ç—Ä": "–í—Å–µ–≥–æ —Ç–æ–∫–µ–Ω–æ–≤", "–ó–Ω–∞—á–µ–Ω–∏–µ": "2,137", "–û–ø–∏—Å–∞–Ω–∏–µ": "–°—É–º–º–∞—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ"},
                {"–ü–∞—Ä–∞–º–µ—Ç—Ä": "–°—Ç–æ–∏–º–æ—Å—Ç—å", "–ó–Ω–∞—á–µ–Ω–∏–µ": "$0.00042", "–û–ø–∏—Å–∞–Ω–∏–µ": "GPT-4o-mini: $0.15/1M –≤—Ö–æ–¥, $0.60/1M –≤—ã—Ö–æ–¥"},
                {"–ü–∞—Ä–∞–º–µ—Ç—Ä": "Confidence", "–ó–Ω–∞—á–µ–Ω–∏–µ": "0.89 (89%)", "–û–ø–∏—Å–∞–Ω–∏–µ": "–°—Ä–µ–¥–Ω—è—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –º–æ–¥–µ–ª–∏"},
            ]
            st.table(metrics_data)

            st.subheader("üìä –ò–∑–≤–ª–µ—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ")

            # –í–∫–ª–∞–¥–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
            tab1, tab2, tab3, tab4, tab5 = st.tabs(["–°—Ç–æ—Ä–æ–Ω—ã", "–ü—Ä–µ–¥–º–µ—Ç", "–§–∏–Ω–∞–Ω—Å—ã", "–°—Ä–æ–∫–∏", "–°–∞–Ω–∫—Ü–∏–∏"])

            with tab1:
                st.json({
                    "supplier": {
                        "name": "–û–û–û \"–¢–µ—Ö–Ω–æ–°–Ω–∞–±\"",
                        "inn": "7710123456",
                        "ogrn": "1027700012345",
                        "address": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –°–∫–ª–∞–¥–æ—á–Ω–∞—è, –¥. 10",
                        "representative": "–ò–≤–∞–Ω–æ–≤ –ü–µ—Ç—Ä –°–µ—Ä–≥–µ–µ–≤–∏—á"
                    },
                    "customer": {
                        "name": "–û–û–û \"–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –ö–æ–º–ø–∞–Ω–∏—è\"",
                        "inn": "7720987654",
                        "ogrn": "1027700098765",
                        "address": "–≥. –ú–æ—Å–∫–≤–∞, —É–ª. –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è, –¥. 25",
                        "representative": "–°–∏–¥–æ—Ä–æ–≤–∞ –ê–Ω–Ω–∞ –í–ª–∞–¥–∏–º–∏—Ä–æ–≤–Ω–∞"
                    }
                })

            with tab2:
                st.json({
                    "description": "–ü–æ—Å—Ç–∞–≤–∫–∞ –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏—Ö –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è",
                    "full_description": "–î–æ–≥–æ–≤–æ—Ä –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç –ø–æ—Å—Ç–∞–≤–∫—É –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏—Ö —á–∞—Å—Ç–µ–π –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è —Å–æ–≥–ª–∞—Å–Ω–æ –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Ññ1). –ü–æ—Å—Ç–∞–≤—â–∏–∫ –æ–±—è–∑—É–µ—Ç—Å—è –ø–µ—Ä–µ–¥–∞—Ç—å –¢–æ–≤–∞—Ä –Ω–∞–¥–ª–µ–∂–∞—â–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –≤ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∏ –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–µ, —Å –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ–º —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏ –ø—Ä–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–µ. –ü–æ—Å—Ç–∞–≤–∫–∞ –≤–∫–ª—é—á–∞–µ—Ç —É–ø–∞–∫–æ–≤–∫—É, –ø–æ–≥—Ä—É–∑–∫—É –∏ –¥–æ—Å—Ç–∞–≤–∫—É –¥–æ —Å–∫–ª–∞–¥–∞ –ü–æ–∫—É–ø–∞—Ç–µ–ª—è. –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¢–æ–≤–∞—Ä –∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç –æ–ø–ª–∞—Ç—É –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ä–æ–∫–∏.",
                    "type": "supply",
                    "_meta": {
                        "confidence": 0.92,
                        "source": "LLM analysis of sections 1, 3, 4"
                    }
                })

            with tab3:
                st.json({
                    "total_amount": 1500000.00,
                    "currency": "RUB",
                    "vat_included": True,
                    "vat_rate": 20,
                    "payment_schedule": [
                        {"type": "prepayment", "amount": 450000, "percent": 30, "due_days": 5},
                        {"type": "postpayment", "amount": 1050000, "percent": 70, "due_days": 10}
                    ]
                })

            with tab4:
                st.json({
                    "contract_term": {
                        "start_date": "2024-01-15",
                        "end_date": "2024-03-31",
                        "duration_days": 76
                    },
                    "delivery_term": {
                        "delivery_date": "2024-02-15",
                        "description": "–ü–æ—Å—Ç–∞–≤–∫–∞ –¥–æ 15 —Ñ–µ–≤—Ä–∞–ª—è 2024"
                    },
                    "payment_terms": {
                        "prepayment_deadline": "2024-01-20",
                        "prepayment_days": 5,
                        "prepayment_description": "30% (450,000‚ÇΩ) –≤ —Ç–µ—á–µ–Ω–∏–µ 5 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π —Å –¥–∞—Ç—ã –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è",
                        "final_payment_deadline": "–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–∞—Ç—ã –ê–∫—Ç–∞ –ø—Ä–∏–µ–º–∞-–ø–µ—Ä–µ–¥–∞—á–∏",
                        "final_payment_days": 10,
                        "final_payment_description": "70% (1,050,000‚ÇΩ) –≤ —Ç–µ—á–µ–Ω–∏–µ 10 —Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π –ø–æ—Å–ª–µ –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è –ê–∫—Ç–∞"
                    }
                })

            with tab5:
                st.json([
                    {
                        "type": "delay_delivery",
                        "rate": "0.1% per day",
                        "cap": "10% of contract value",
                        "description": "–ó–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ —Å—Ä–æ–∫–æ–≤ –ø–æ—Å—Ç–∞–≤–∫–∏"
                    },
                    {
                        "type": "delay_payment",
                        "rate": "0.1% per day",
                        "cap": "10% of debt",
                        "description": "–ó–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–µ —Å—Ä–æ–∫–æ–≤ –æ–ø–ª–∞—Ç—ã"
                    }
                ])

        # Stage 4: RAG Filter
        status_text.text("üîç RAG: –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –¥–æ–≥–æ–≤–æ—Ä–æ–≤...")
        time.sleep(1)
        progress_bar.progress(83)

        with st.expander("‚úÖ RAG Filter (0.8 —Å–µ–∫)", expanded=False):
            st.success(f"**–ù–∞–π–¥–µ–Ω–æ –ø–æ—Ö–æ–∂–∏—Ö:** 3 –¥–æ–≥–æ–≤–æ—Ä–∞")
            st.info("**–ú–æ–¥–µ–ª—å:** pgvector similarity + text-embedding-ada-002 | **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ:** OpenAI text-embedding-3-large –∏–ª–∏ Cohere embed-multilingual-v3.0 –¥–ª—è –º–Ω–æ–≥–æ—è–∑—ã—á–Ω—ã—Ö –¥–æ–≥–æ–≤–æ—Ä–æ–≤")

            similar_data = [
                {"–î–æ–≥–æ–≤–æ—Ä": "2023-SP-00089", "–°—Ö–æ–∂–µ—Å—Ç—å": 0.91, "–¢–∏–ø": "–ü–æ—Å—Ç–∞–≤–∫–∞", "–°—É–º–º–∞": "‚ÇΩ1,200,000"},
                {"–î–æ–≥–æ–≤–æ—Ä": "2023-SP-00112", "–°—Ö–æ–∂–µ—Å—Ç—å": 0.85, "–¢–∏–ø": "–ü–æ—Å—Ç–∞–≤–∫–∞", "–°—É–º–º–∞": "‚ÇΩ2,100,000"},
                {"–î–æ–≥–æ–≤–æ—Ä": "2024-SP-00003", "–°—Ö–æ–∂–µ—Å—Ç—å": 0.79, "–¢–∏–ø": "–ü–æ—Å—Ç–∞–≤–∫–∞", "–°—É–º–º–∞": "‚ÇΩ850,000"},
            ]
            st.dataframe(similar_data, use_container_width=True)

        # Stage 5: Validation
        status_text.text("‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö...")
        time.sleep(0.5)
        progress_bar.progress(100)

        with st.expander("‚ö†Ô∏è Validation (2.1 —Å–µ–∫)", expanded=True):
            st.warning("**–°—Ç–∞—Ç—É—Å:** –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–π–¥–µ–Ω–∞ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è–º–∏")
            st.info("**–ú–æ–¥–µ–ª—å:** GPT-4o-mini + RAG | **–û–ø—Ç–∏–º–∞–ª—å–Ω–æ:** Claude 3.5 Sonnet –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞")

            col1, col2, col3 = st.columns(3)
            with col1:
                st.metric("–û—à–∏–±–æ–∫", "0", delta="‚úÖ")
            with col2:
                st.metric("–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π", "5", delta="‚ö†Ô∏è")
            with col3:
                st.metric("–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ", "87%", delta="-13%")

            st.markdown("---")
            st.subheader("üìã –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º")

            # –°–æ–∑–¥–∞–µ–º –≤–∫–ª–∞–¥–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞
            val_tab1, val_tab2, val_tab3, val_tab4, val_tab5 = st.tabs([
                "–°—Ç–æ—Ä–æ–Ω—ã", "–ü—Ä–µ–¥–º–µ—Ç", "–§–∏–Ω–∞–Ω—Å—ã", "–°—Ä–æ–∫–∏ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å", "–ü—Ä–∞–≤–æ–≤–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ"
            ])

            with val_tab1:
                st.markdown("### üè¢ –†–∞–∑–¥–µ–ª: –°—Ç–æ—Ä–æ–Ω—ã –¥–æ–≥–æ–≤–æ—Ä–∞")
                st.success("**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —ç—Ç–∞–ª–æ–Ω–æ–º:** ‚úÖ –ü–æ–ª–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ")

                st.markdown("**–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:**")
                checks_parties = [
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–ù–∞–ª–∏—á–∏–µ –ò–ù–ù —É –æ–±–µ–∏—Ö —Å—Ç–æ—Ä–æ–Ω", "–≠—Ç–∞–ª–æ–Ω": "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ", "–§–∞–∫—Ç": "‚úÖ –ï—Å—Ç—å", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–ù–∞–ª–∏—á–∏–µ –û–ì–†–ù", "–≠—Ç–∞–ª–æ–Ω": "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ", "–§–∞–∫—Ç": "‚úÖ –ï—Å—Ç—å", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∞–¥—Ä–µ—Å", "–≠—Ç–∞–ª–æ–Ω": "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ", "–§–∞–∫—Ç": "‚úÖ –£–∫–∞–∑–∞–Ω", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–§–ò–û –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è", "–≠—Ç–∞–ª–æ–Ω": "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ", "–§–∞–∫—Ç": "‚úÖ –£–∫–∞–∑–∞–Ω", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã", "–≠—Ç–∞–ª–æ–Ω": "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ", "–§–∞–∫—Ç": "‚úÖ –ü–æ–ª–Ω—ã–µ", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                ]
                st.dataframe(checks_parties, use_container_width=True)

                st.info("**RAG –ø—Ä–æ–≤–µ—Ä–∫–∞ (–∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ):** –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ì–ö –†–§ —Å—Ç. 434")

            with val_tab2:
                st.markdown("### üì¶ –†–∞–∑–¥–µ–ª: –ü—Ä–µ–¥–º–µ—Ç –¥–æ–≥–æ–≤–æ—Ä–∞")
                st.warning("**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —ç—Ç–∞–ª–æ–Ω–æ–º:** ‚ö†Ô∏è –ï—Å—Ç—å –∑–∞–º–µ—á–∞–Ω–∏—è")

                checks_subject = [
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞", "–≠—Ç–∞–ª–æ–Ω": "–î–µ—Ç–∞–ª—å–Ω–æ–µ", "–§–∞–∫—Ç": "‚úÖ –£–∫–∞–∑–∞–Ω–æ", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–°—Å—ã–ª–∫–∞ –Ω–∞ –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é", "–≠—Ç–∞–ª–æ–Ω": "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞", "–§–∞–∫—Ç": "‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ‚Ññ1", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞", "–≠—Ç–∞–ª–æ–Ω": "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ", "–§–∞–∫—Ç": "‚ö†Ô∏è –¢–æ–ª—å–∫–æ –≤ –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏", "–°—Ç–∞—Ç—É—Å": "‚ö†Ô∏è"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–æ–≤–∞—Ä–∞", "–≠—Ç–∞–ª–æ–Ω": "–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ", "–§–∞–∫—Ç": "‚ö†Ô∏è –ù–µ —É–∫–∞–∑–∞–Ω—ã", "–°—Ç–∞—Ç—É—Å": "‚ö†Ô∏è"},
                ]
                st.dataframe(checks_subject, use_container_width=True)

                st.warning("**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ 1:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç—å —Ö–æ—Ç—è –±—ã –æ–±—â–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ —Ç–æ–≤–∞—Ä–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ç–µ–∫—Å—Ç–µ")
                st.info("**RAG –ø—Ä–æ–≤–µ—Ä–∫–∞:** –ê–Ω–∞–ª–æ–≥–∏—á–Ω—ã–µ –¥–æ–≥–æ–≤–æ—Ä—ã 2023-SP-00089 –∏ 2024-SP-00003 —Å–æ–¥–µ—Ä–∂–∞—Ç –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ç–µ–∫—Å—Ç–µ")

            with val_tab3:
                st.markdown("### üí∞ –†–∞–∑–¥–µ–ª: –§–∏–Ω–∞–Ω—Å—ã –∏ –æ–ø–ª–∞—Ç–∞")
                st.success("**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —ç—Ç–∞–ª–æ–Ω–æ–º:** ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç")

                checks_finance = [
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–û–±—â–∞—è —Å—É–º–º–∞", "–≠—Ç–∞–ª–æ–Ω": "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ", "–§–∞–∫—Ç": "‚úÖ 1,500,000‚ÇΩ", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–ù–î–°", "–≠—Ç–∞–ª–æ–Ω": "–£–∫–∞–∑–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ", "–§–∞–∫—Ç": "‚úÖ 20% (250,000‚ÇΩ)", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–°—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–µ–π = –û–±—â–∞—è —Å—É–º–º–∞", "–≠—Ç–∞–ª–æ–Ω": "–î–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å", "–§–∞–∫—Ç": "‚úÖ 450k+1050k=1500k", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–ì—Ä–∞—Ñ–∏–∫ –ø–ª–∞—Ç–µ–∂–µ–π", "–≠—Ç–∞–ª–æ–Ω": "–û–±—è–∑–∞—Ç–µ–ª–µ–Ω", "–§–∞–∫—Ç": "‚úÖ 30% + 70%", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–°—Ä–æ–∫–∏ –æ–ø–ª–∞—Ç—ã", "–≠—Ç–∞–ª–æ–Ω": "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–Ω–∏", "–§–∞–∫—Ç": "‚úÖ 5 –∏ 10 —Ä–∞–±.–¥–Ω.", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                ]
                st.dataframe(checks_finance, use_container_width=True)

                st.info("**RAG –ø—Ä–æ–≤–µ—Ä–∫–∞:** –ì—Ä–∞—Ñ–∏–∫ –ø–ª–∞—Ç–µ–∂–µ–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∞–∫—Ç–∏–∫–µ –ø–æ—Å—Ç–∞–≤–æ–∫ (—Ç–∏–ø–∏—á–Ω–æ 30-50% –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—ã)")

            with val_tab4:
                st.markdown("### ‚è∞ –†–∞–∑–¥–µ–ª: –°—Ä–æ–∫–∏ –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å")
                st.warning("**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —ç—Ç–∞–ª–æ–Ω–æ–º:** ‚ö†Ô∏è –ï—Å—Ç—å –∑–∞–º–µ—á–∞–Ω–∏—è")

                checks_terms = [
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –¥–æ–≥–æ–≤–æ—Ä–∞", "–≠—Ç–∞–ª–æ–Ω": "–û–±—è–∑–∞—Ç–µ–ª–µ–Ω", "–§–∞–∫—Ç": "‚úÖ 15.01-31.03.2024", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–°—Ä–æ–∫ –ø–æ—Å—Ç–∞–≤–∫–∏", "–≠—Ç–∞–ª–æ–Ω": "–û–±—è–∑–∞—Ç–µ–ª–µ–Ω", "–§–∞–∫—Ç": "‚úÖ –¥–æ 15.02.2024", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–®—Ç—Ä–∞—Ñ –∑–∞ –ø—Ä–æ—Å—Ä–æ—á–∫—É –ø–æ—Å—Ç–∞–≤–∫–∏", "–≠—Ç–∞–ª–æ–Ω": "0.1-0.5%/–¥–µ–Ω—å", "–§–∞–∫—Ç": "‚úÖ 0.1%/–¥–µ–Ω—å", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–õ–∏–º–∏—Ç —à—Ç—Ä–∞—Ñ–∞", "–≠—Ç–∞–ª–æ–Ω": "5-10%", "–§–∞–∫—Ç": "‚úÖ 10%", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–®—Ç—Ä–∞—Ñ –∑–∞ –ø—Ä–æ—Å—Ä–æ—á–∫—É –æ–ø–ª–∞—Ç—ã", "–≠—Ç–∞–ª–æ–Ω": "0.1-0.5%/–¥–µ–Ω—å", "–§–∞–∫—Ç": "‚úÖ 0.1%/–¥–µ–Ω—å", "–°—Ç–∞—Ç—É—Å": "‚úÖ"},
                    {"–≠–ª–µ–º–µ–Ω—Ç": "–£—Å–ª–æ–≤–∏—è —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä–∞", "–≠—Ç–∞–ª–æ–Ω": "–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ", "–§–∞–∫—Ç": "‚ö†Ô∏è –û–±—â–∞—è —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∫–∞", "–°—Ç–∞—Ç—É—Å": "‚ö†Ô∏è"},
                ]
                st.dataframe(checks_terms, use_container_width=True)

                st.warning("**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ 2:** –£—Å–ª–æ–≤–∏—è —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä–∞ —Å–ª–∏—à–∫–æ–º –æ–±—â–∏–µ. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—Ç–æ—á–Ω–∏—Ç—å:")
                st.markdown("- –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–µ—Ä–µ—á–µ–Ω—å –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤")
                st.markdown("- –ü–æ—Ä—è–¥–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è")
                st.markdown("- –°—Ä–æ–∫ –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤")

                st.info("**RAG –ø—Ä–æ–≤–µ—Ä–∫–∞:** –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø–æ—Ö–æ–∂–∏–º –¥–æ–≥–æ–≤–æ—Ä–æ–º 2023-SP-00089 –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—É—é –ø—Ä–æ—Ä–∞–±–æ—Ç–∫—É —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä–∞")

            with val_tab5:
                st.markdown("### ‚öñÔ∏è –†–∞–∑–¥–µ–ª: –ü—Ä–∞–≤–æ–≤–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ")
                st.warning("**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤—É:** ‚ö†Ô∏è –ï—Å—Ç—å –∑–∞–º–µ—á–∞–Ω–∏—è")

                legal_checks = [
                    {"–ù–æ—Ä–º–∞ –∑–∞–∫–æ–Ω–∞": "–ì–ö –†–§ —Å—Ç. 454 (–¥–æ–≥–æ–≤–æ—Ä –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏)", "–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ": "‚úÖ –ü–æ–ª–Ω–æ–µ", "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π": "–í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç"},
                    {"–ù–æ—Ä–º–∞ –∑–∞–∫–æ–Ω–∞": "–ì–ö –†–§ —Å—Ç. 506-524 (–ø–æ—Å—Ç–∞–≤–∫–∞)", "–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ": "‚úÖ –ü–æ–ª–Ω–æ–µ", "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π": "–§–æ—Ä–º–∞ –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç"},
                    {"–ù–æ—Ä–º–∞ –∑–∞–∫–æ–Ω–∞": "–ì–ö –†–§ —Å—Ç. 431.2 (–ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã)", "–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ": "‚úÖ –°–æ–±–ª—é–¥–µ–Ω–æ", "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π": "–£—Å–ª–æ–≤–∏–µ –æ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä–∞—Ö –µ—Å—Ç—å (—Ä–∞–∑–¥–µ–ª 7)"},
                    {"–ù–æ—Ä–º–∞ –∑–∞–∫–æ–Ω–∞": "–ù–ö –†–§ (–ù–î–°)", "–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ": "‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ", "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π": "–ù–î–° 20% —É–∫–∞–∑–∞–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ"},
                    {"–ù–æ—Ä–º–∞ –∑–∞–∫–æ–Ω–∞": "–ó–∞–∫–æ–Ω –æ –∑–∞—â–∏—Ç–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏", "–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ": "‚ö†Ô∏è –ù–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ", "–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π": "–¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–æ–Ω–æ–ø–æ–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è"},
                ]
                st.dataframe(legal_checks, use_container_width=True)

                st.warning("**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ 3:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª –æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (152-–§–ó)")
                st.warning("**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ 4:** –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —É—Å–ª–æ–≤–∏–µ –æ –ø–æ–¥—Å—É–¥–Ω–æ—Å—Ç–∏ —Å–ø–æ—Ä–æ–≤ (–µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –∞—Ä–±–∏—Ç—Ä–∞–∂–Ω—ã–π —Å—É–¥ –ú–æ—Å–∫–≤—ã)")
                st.warning("**–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ 5:** –ù–µ —É–∫–∞–∑–∞–Ω –ø–æ—Ä—è–¥–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ —Å—Ç–æ—Ä–æ–Ω")

                st.info("**RAG –ø—Ä–æ–≤–µ—Ä–∫–∞ (–∞–∫—Ç—É–∞–ª—å–Ω–∞—è –ø—Ä–∞–≤–æ–≤–∞—è –±–∞–∑–∞):**")
                st.markdown("- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –ì–ö –†–§ (—Ä–µ–¥. –æ—Ç 01.08.2023)")
                st.markdown("- ‚ö†Ô∏è –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è —É—á–µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ù–ö –†–§ (–≤—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É 01.01.2024)")
                st.markdown("- ‚ö†Ô∏è –ù–µ —É—á—Ç–µ–Ω—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è 152-–§–ó –æ –∑–∞—â–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö")

            st.markdown("---")
            st.subheader("üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞")

            summary_col1, summary_col2 = st.columns(2)

            with summary_col1:
                st.markdown("**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**")
                st.success("‚úÖ –í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã —Å—Ç–æ—Ä–æ–Ω")
                st.success("‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–∞—Å—á–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤ –∏ –ù–î–°")
                st.success("‚úÖ –ß—ë—Ç–∫–∏–µ —Å—Ä–æ–∫–∏ –∏ —à—Ç—Ä–∞—Ñ–Ω—ã–µ —Å–∞–Ω–∫—Ü–∏–∏")

            with summary_col2:
                st.markdown("**–¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏:**")
                st.warning("‚ö†Ô∏è –î–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è —É—Å–ª–æ–≤–∏–π —Ñ–æ—Ä—Å-–º–∞–∂–æ—Ä–∞")
                st.warning("‚ö†Ô∏è –†–∞–∑–¥–µ–ª –æ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö")
                st.warning("‚ö†Ô∏è –ü–æ—Ä—è–¥–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤")

        status_text.empty()
        progress_bar.empty()

        st.markdown("---")

        # –§–∏–Ω–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏
        st.header("3Ô∏è‚É£ –ò—Ç–æ–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏")

        col1, col2, col3, col4 = st.columns(4)

        with col1:
            st.metric("‚è±Ô∏è –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏", "5.6 —Å–µ–∫")

        with col2:
            st.metric("üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å", "$0.00042")

        with col3:
            st.metric("ü§ñ –ú–æ–¥–µ–ª—å", "GPT-4o-mini")

        with col4:
            st.metric("üéØ –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å", "89%")

        st.markdown("---")

        # –ö–Ω–æ–ø–∫–∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
        st.header("4Ô∏è‚É£ –£—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤")

        col1, col2, col3 = st.columns(3)

        with col1:
            if st.button("‚úÖ –£—Ç–≤–µ—Ä–¥–∏—Ç—å", type="primary", use_container_width=True):
                st.success("‚úÖ –î–æ–∫—É–º–µ–Ω—Ç —É—Ç–≤–µ—Ä–∂–¥–µ–Ω –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö!")
                st.balloons()

        with col2:
            if st.button("‚úèÔ∏è –ò—Å–ø—Ä–∞–≤–∏—Ç—å", use_container_width=True):
                st.info("–û—Ç–∫—Ä–æ–µ—Ç—Å—è —Ä–µ–¥–∞–∫—Ç–æ—Ä –ø–æ–ª–µ–π (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)")

        with col3:
            if st.button("‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å", use_container_width=True):
                st.error("–î–æ–∫—É–º–µ–Ω—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω")

else:
    st.info("üëÜ –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –¥–æ–≥–æ–≤–æ—Ä–∞ –¥–ª—è –Ω–∞—á–∞–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏")

    # –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª
    st.markdown("---")
    st.markdown("**üí° –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `tests/fixtures/test_supply_contract.txt`")

st.markdown("---")
st.caption("Contract AI System v2.0 - –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤")
