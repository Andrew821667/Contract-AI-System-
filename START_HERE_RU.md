# ğŸš€ Ğ‘Ğ«Ğ¡Ğ¢Ğ Ğ«Ğ™ Ğ¡Ğ¢ĞĞ Ğ¢ - Contract AI System

## âœ… Ğ§Ñ‚Ğ¾ ÑƒĞ¶Ğµ ÑĞ´ĞµĞ»Ğ°Ğ½Ğ¾:

1. âœ… ĞŸÑ€Ğ¾ĞµĞºÑ‚ ÑĞºĞ»Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½
2. âœ… Ğ¤Ğ°Ğ¹Ğ» `.env` Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½ (SQLite + OpenAI)
3. âœ… API ĞºĞ»ÑÑ‡ OpenAI Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½
4. âœ… Docker Compose Ğ´Ğ»Ñ ChromaDB ÑĞ¾Ğ·Ğ´Ğ°Ğ½
5. âœ… Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ ÑƒÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ÑÑ‚ÑÑ...

---

## ğŸ“‹ Ğ§Ğ¢Ğ Ğ”ĞĞ›Ğ¬Ğ¨Ğ•:

### **Ğ¨ĞĞ“ 1: Ğ”Ğ¾Ğ¶Ğ´Ğ°Ñ‚ÑŒÑÑ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹**

Ğ¡ĞµĞ¹Ñ‡Ğ°Ñ Ğ¸Ğ´ĞµÑ‚:
```bash
pip install -r requirements_final.txt
```

### **Ğ¨ĞĞ“ 2: Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ ChromaDB Ğ² Docker**

```bash
# Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ ChromaDB
docker-compose up -d chromadb

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ‚ÑƒÑ
docker-compose ps

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñƒ
curl http://localhost:8001/api/v1/heartbeat
```

### **Ğ¨ĞĞ“ 3: Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ±Ğ°Ğ·Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…**

```bash
python3 -c "from src.models.database import Base, engine; Base.metadata.create_all(bind=engine)"
```

### **Ğ¨ĞĞ“ 4: Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ**

**Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ A - Streamlit UI:**
```bash
streamlit run app.py
```
ĞÑ‚ĞºÑ€Ğ¾ĞµÑ‚ÑÑ: http://localhost:8501

**Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ B - FastAPI Backend:**
```bash
python3 -m uvicorn src.main:app --host 0.0.0.0 --port 8000 --reload
```
ĞÑ‚ĞºÑ€Ğ¾ĞµÑ‚ÑÑ: http://localhost:8000/docs

---

## ğŸ—ï¸ ĞĞ Ğ¥Ğ˜Ğ¢Ğ•ĞšĞ¢Ğ£Ğ Ğ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     FRONTEND                           â”‚
â”‚  Streamlit (8501) / React Next.js (3000)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  FASTAPI BACKEND                       â”‚
â”‚              (Port 8000)                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ Contract â”‚  â”‚ Analysis â”‚  â”‚   Auth   â”‚            â”‚
â”‚  â”‚  Agent   â”‚  â”‚  Agent   â”‚  â”‚ Service  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚            â”‚            â”‚
             â–¼            â–¼            â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  OpenAI  â”‚  â”‚ ChromaDB â”‚  â”‚  SQLite  â”‚
     â”‚   API    â”‚  â”‚  Docker  â”‚  â”‚    DB    â”‚
     â”‚(Embeddingsâ”‚  â”‚(Port 8001â”‚  â”‚          â”‚
     â”‚   & LLM) â”‚  â”‚          â”‚  â”‚          â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Ğ’ĞĞ—ĞœĞĞ–ĞĞĞ¡Ğ¢Ğ˜ Ğ¡Ğ˜Ğ¡Ğ¢Ğ•ĞœĞ«

### **1. ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ğ”Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ² Ñ AI** ğŸ”
- GPT-4 Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ñ‹
- Ğ’Ñ‹ÑĞ²Ğ»ÑĞµÑ‚ Ñ€Ğ¸ÑĞºĞ¸ (financial, legal, operational)
- Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ½Ñ‚Ñ€Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· Ğ¤ĞĞ¡ API

### **2. Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ”Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ²** âœï¸
- Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ¾ XML ÑˆĞ°Ğ±Ğ»Ğ¾Ğ½Ğ°Ğ¼
- LLM Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ÑĞµÑ‚ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ
- RAG Ğ¿Ğ¾Ğ¸ÑĞº Ğ°Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¾Ğ² Ñ‡ĞµÑ€ĞµĞ· ChromaDB + OpenAI Embeddings
- Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ² DOCX, PDF

### **3. Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ’Ğ¾Ğ·Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹** âš–ï¸
- ĞĞ½Ğ°Ğ»Ğ¸Ğ· ÑĞ¿Ğ¾Ñ€Ğ½Ñ‹Ñ… Ğ¿ÑƒĞ½ĞºÑ‚Ğ¾Ğ²
- ĞŸÑ€Ğ°Ğ²Ğ¾Ğ²Ñ‹Ğµ Ğ¾Ğ±Ğ¾ÑĞ½Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ²Ğ¾Ğ·Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ğ¹
- Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ² DOCX, PDF, Email

### **4. Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ğ’ĞµÑ€ÑĞ¸Ğ¹** ğŸ“Š
- Ğ¡ĞµĞ¼Ğ°Ğ½Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¹ Ñ‡ĞµÑ€ĞµĞ· LLM
- Ğ’Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ diff
- PDF Ğ¾Ñ‚Ñ‡ĞµÑ‚Ñ‹

### **5. RAG ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°** ğŸ§ 
- **ChromaDB Ğ² Docker** (Ğ²ĞµĞºÑ‚Ğ¾Ñ€Ğ½Ğ°Ñ Ğ‘Ğ”)
- **OpenAI Embeddings** (text-embedding-3-small/large)
- ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾Ñ…Ğ¾Ğ¶Ğ¸Ñ… Ğ¿Ñ€ĞµÑ†ĞµĞ´ĞµĞ½Ñ‚Ğ¾Ğ²
- Ğ‘Ğ°Ğ·Ğ° Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸

---

## ğŸ§ª Ğ¢Ğ•Ğ¡Ğ¢Ğ˜Ğ ĞĞ’ĞĞĞ˜Ğ•

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° OpenAI API:
```python
from openai import OpenAI
client = OpenAI(api_key="your-key")

# Test embeddings
response = client.embeddings.create(
    model="text-embedding-3-small",
    input="Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚"
)
print(f"âœ… Embeddings Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚! Ğ Ğ°Ğ·Ğ¼ĞµÑ€: {len(response.data[0].embedding)}")

# Test GPT
response = client.chat.completions.create(
    model="gpt-3.5-turbo",
    messages=[{"role": "user", "content": "ĞŸÑ€Ğ¸Ğ²ĞµÑ‚!"}]
)
print(f"âœ… GPT Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚: {response.choices[0].message.content}")
```

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ChromaDB:
```python
from src.services.chroma_client import get_chroma_client

client = get_chroma_client()
print(f"âœ… ChromaDB Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚!")
print(f"ĞšĞ¾Ğ»Ğ»ĞµĞºÑ†Ğ¸Ğ¸: {[c.name for c in client.list_collections()]}")
```

### ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° RAG:
```python
from src.services.rag_system import RAGSystem
from src.models.database import SessionLocal

db = SessionLocal()
rag = RAGSystem(
    db_session=db,
    use_openai_embeddings=True,
    openai_api_key="your-key"
)

# Ğ˜Ğ½Ğ´ĞµĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚
rag.index_document(
    doc_id="test1",
    content="Ğ¢ĞµÑÑ‚Ğ¾Ğ²Ñ‹Ğ¹ Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€ Ğ½Ğ° Ğ¾ĞºĞ°Ğ·Ğ°Ğ½Ğ¸Ğµ ÑƒÑĞ»ÑƒĞ³",
    metadata={"type": "service_contract"}
)

# ĞŸĞ¾Ğ¸ÑĞº
results = rag.search("Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€ ÑƒÑĞ»ÑƒĞ³Ğ¸", top_k=3)
print(f"âœ… ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²: {len(results)}")
```

---

## ğŸ“š Ğ”ĞĞšĞ£ĞœĞ•ĞĞ¢ĞĞ¦Ğ˜Ğ¯

- **README.md** - ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°
- **QUICK_START_RU.md** - Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ ÑÑ‚Ğ°Ñ€Ñ‚
- **README_DOCKER.md** - Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ ChromaDB Docker
- **API Docs** - http://localhost:8000/docs (Ğ¿Ğ¾ÑĞ»Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°)

---

## ğŸ”§ Ğ Ğ•Ğ¨Ğ•ĞĞ˜Ğ• ĞŸĞ ĞĞ‘Ğ›Ğ•Ğœ

### ChromaDB Ğ½Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°ĞµÑ‚ÑÑ:
```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Docker
docker ps

# ĞŸĞ¾ÑĞ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ Ğ»Ğ¾Ğ³Ğ¸
docker-compose logs chromadb

# ĞŸĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ
docker-compose restart chromadb
```

### OpenAI API Ğ¾ÑˆĞ¸Ğ±ĞºĞ°:
```bash
# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ ĞºĞ»ÑÑ‡
echo $OPENAI_API_KEY  # Ğ”Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°Ñ‚ÑŒÑÑ Ñ sk-

# ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ
curl https://api.openai.com/v1/models \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

### Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ½Ğµ ÑĞ¾Ğ·Ğ´Ğ°ĞµÑ‚ÑÑ:
```bash
# Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ€ÑƒÑ Ğ‘Ğ”
rm contract_ai.db

# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ½Ğ¾Ğ²Ğ¾
python3 -c "from src.models.database import Base, engine; Base.metadata.create_all(bind=engine)"
```

---

## ğŸ’° Ğ¡Ğ¢ĞĞ˜ĞœĞĞ¡Ğ¢Ğ¬ Ğ˜Ğ¡ĞŸĞĞ›Ğ¬Ğ—ĞĞ’ĞĞĞ˜Ğ¯

### OpenAI Embeddings:
- **text-embedding-3-small**: $0.02 / 1M tokens (~$0.000002 Ğ·Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚)
- **text-embedding-3-large**: $0.13 / 1M tokens (~$0.000013 Ğ·Ğ° Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚)

### OpenAI GPT:
- **GPT-3.5-Turbo**: $0.50 / 1M input + $1.50 / 1M output
- **GPT-4**: $5.00 / 1M input + $15.00 / 1M output

**ĞŸÑ€Ğ¸Ğ¼ĞµÑ€:** ĞĞ½Ğ°Ğ»Ğ¸Ğ· 10 Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€Ğ¾Ğ² Ğ¿Ğ¾ 10 ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†:
- Embeddings: ~$0.02
- GPT-4 Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·: ~$2-5
- **Ğ˜Ñ‚Ğ¾Ğ³Ğ¾**: ~$2-5 Ğ·Ğ° Ğ¿Ğ°ĞºĞµÑ‚

---

## âœ¨ Ğ“ĞĞ¢ĞĞ’Ğ!

Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ° Ğ¸ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ° Ğº Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğµ! ğŸ‰

**Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¸:**
1. âœ… Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ ChromaDB: `docker-compose up -d`
2. âœ… Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ: `streamlit run app.py`
3. âœ… Ğ—Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ Ğ´Ğ¾Ğ³Ğ¾Ğ²Ğ¾Ñ€
4. âœ… ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ AI Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·!

**Ğ£Ğ´Ğ°Ñ‡Ğ¸!** ğŸš€
