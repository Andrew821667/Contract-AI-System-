# Contract AI System

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å –¥–æ–≥–æ–≤–æ—Ä–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ LLM –∏ RAG.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. Onboarding Agent
- –ê–Ω–∞–ª–∏–∑ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –¥–æ–≥–æ–≤–æ—Ä–æ–≤
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ (—Å—Ç–æ—Ä–æ–Ω—ã, —Å—Ä–æ–∫–∏, —Å—É–º–º—ã)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–ª–∏ –∞–Ω–∞–ª–∏–∑–∞

### 2. Contract Generator Agent
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–≥–æ–≤–æ—Ä–æ–≤ –ø–æ —à–∞–±–ª–æ–Ω–∞–º XML
- LLM-–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å —É—á–µ—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- RAG –¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–Ω–∞–ª–æ–≥–æ–≤ –∏ –ø—Ä–µ—Ü–µ–¥–µ–Ω—Ç–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π

### 3. Contract Analyzer Agent
- –ê–Ω–∞–ª–∏–∑ –≤—Ö–æ–¥—è—â–∏—Ö –¥–æ–≥–æ–≤–æ—Ä–æ–≤ –æ—Ç –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∏—Å–∫–æ–≤ (financial, legal, operational, reputational)
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º
- –ê–Ω–Ω–æ—Ç–∞—Ü–∏—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤ —Å XPath-–ø—Ä–∏–≤—è–∑–∫–æ–π
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ –¥–ª—è –¥–æ–ø. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### 4. Disagreement Processor Agent
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–∑—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –ø—Ä–æ–±–ª–µ–º–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –¥–æ–≥–æ–≤–æ—Ä–∞
- LLM + RAG –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–æ–≤—ã—Ö –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è + –≤—ã–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
- –≠–∫—Å–ø–æ—Ä—Ç –≤ XML, DOCX, PDF, Email, –≠–î–û
- –¢—Ä–µ–∫–∏–Ω–≥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–ø—Ä–∏–Ω—è—Ç–æ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ)

### 5. Changes Analyzer Agent
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π –¥–æ–≥–æ–≤–æ—Ä–∞ (—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–µ + —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ)
- LLM-–∞–Ω–∞–ª–∏–∑ –≤–ª–∏—è–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Ä–∏—Å–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å —Å —Ä–∞–Ω–µ–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è–º–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF-–æ—Ç—á–µ—Ç–æ–≤ –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É —é—Ä–∏—Å—Ç–∞–º–∏

### 6. Quick Export Agent
- –ë—ã—Å—Ç—Ä—ã–π —ç–∫—Å–ø–æ—Ä—Ç –¥–æ–≥–æ–≤–æ—Ä–æ–≤ –≤ DOCX, PDF, TXT, JSON
- Batch-—Ä–µ–∂–∏–º —ç–∫—Å–ø–æ—Ä—Ç–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —ç–∫—Å–ø–æ—Ä—Ç–æ–≤

### 7. Orchestrator Agent
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤
- State management –¥–ª—è workflows
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ fallback'–æ–≤

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Contract-AI-System/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ settings.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (DB, LLM API, RAG)
‚îú‚îÄ‚îÄ database/
‚îÇ   ‚îú‚îÄ‚îÄ schema.sql            # –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ migration_*.sql       # –ú–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≥–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ agents/               # AI –∞–≥–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ models/               # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ services/             # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
‚îú‚îÄ‚îÄ tests/                    # Unit-—Ç–µ—Å—Ç—ã
‚îî‚îÄ‚îÄ data/
    ‚îú‚îÄ‚îÄ templates/            # XML —à–∞–±–ª–æ–Ω—ã –¥–æ–≥–æ–≤–æ—Ä–æ–≤
    ‚îú‚îÄ‚îÄ documents/            # –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –¥–ª—è RAG
    ‚îú‚îÄ‚îÄ contracts/            # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–æ–≥–æ–≤–æ—Ä—ã
    ‚îî‚îÄ‚îÄ exports/              # –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:

```env
# Database
DATABASE_URL=postgresql://user:password@localhost:5432/contracts_db

# LLM APIs
OPENAI_API_KEY=your_key_here
ANTHROPIC_API_KEY=your_key_here
YANDEX_API_KEY=your_key_here

# RAG
CHROMA_DB_PATH=./data/chroma_db

# Application
APP_ENV=development
LOG_LEVEL=INFO
```

### 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î

```bash
psql -U user -d contracts_db -f database/schema.sql
psql -U user -d contracts_db -f database/migration_analyzer.sql
psql -U user -d contracts_db -f database/migration_disagreements.sql
psql -U user -d contracts_db -f database/migration_changes_analyzer.sql
```

### 4. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã

**–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Streamlit):**

```bash
streamlit run app.py
# –∏–ª–∏
./run_ui.sh
```

–û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä: http://localhost:8501

**–ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**

```bash
python main.py
```

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
- **users** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- **templates** - –®–∞–±–ª–æ–Ω—ã –¥–æ–≥–æ–≤–æ—Ä–æ–≤ (XML)
- **contracts** - –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–æ–≥–æ–≤–æ—Ä—ã
- **analysis_results** - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞
- **review_tasks** - –ó–∞–¥–∞—á–∏ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É —é—Ä–∏—Å—Ç–∞–º–∏

### Analyzer –º–æ–¥—É–ª–∏
- **contract_risks** - –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ —Ä–∏—Å–∫–∏
- **contract_recommendations** - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- **contract_annotations** - –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏
- **analysis_feedback** - –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

### Disagreements –º–æ–¥—É–ª–∏
- **disagreements** - –î–æ–∫—É–º–µ–Ω—Ç—ã —Å –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è–º–∏
- **disagreement_objections** - –û—Ç–¥–µ–ª—å–Ω—ã–µ –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è
- **disagreement_feedback** - –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### Changes –º–æ–¥—É–ª–∏
- **contract_versions** - –í–µ—Ä—Å–∏–∏ –¥–æ–≥–æ–≤–æ—Ä–æ–≤
- **contract_changes** - –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- **change_analysis_results** - –°–≤–æ–¥–Ω—ã–π –∞–Ω–∞–ª–∏–∑

## üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

Streamlit UI –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ –≤—Å–µ–º–∏ –∞–≥–µ–Ω—Ç–∞–º–∏:

- **üì• –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤** - –ê–Ω–∞–ª–∏–∑ –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (Onboarding Agent)
- **‚úçÔ∏è –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–æ–≥–æ–≤–æ—Ä–æ–≤** - –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–æ–≤ –ø–æ —à–∞–±–ª–æ–Ω–∞–º
- **üîç –ê–Ω–∞–ª–∏–∑ –¥–æ–≥–æ–≤–æ—Ä–æ–≤** - –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑ –¥–æ–≥–æ–≤–æ—Ä–æ–≤ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–≤
- **‚öñÔ∏è –í–æ–∑—Ä–∞–∂–µ–Ω–∏—è** - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å –≤–æ–∑—Ä–∞–∂–µ–Ω–∏—è–º–∏
- **üìä –ê–Ω–∞–ª–∏–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π** - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π –¥–æ–≥–æ–≤–æ—Ä–æ–≤
- **üì§ –≠–∫—Å–ø–æ—Ä—Ç** - –ë—ã—Å—Ç—Ä—ã–π —ç–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- **‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è LLM, –ë–î, RAG

**–ó–∞–ø—É—Å–∫:**
```bash
streamlit run app.py
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
pytest tests/ -v
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

Proprietary

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**Status:** ‚úÖ Core functionality implemented
